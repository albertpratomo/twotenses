---
import {storyblokEditable} from '@storyblok/astro';
import {getSrcset} from '@/utils';

const {blok, caption, image} = Astro.props;
---

<section
    {...storyblokEditable(blok)}
    class="bg-gray py-4 first:py-0"
>
    <div class="container-fluid">
        <picture class="relative">
            <source
                height="360"
                media="(max-width: 639px)"
                srcset={getSrcset(image, 639, 360)}
                width="639"
            />

            <source
                height="431"
                media="(max-width: 767px)"
                srcset={getSrcset(image, 767, 431)}
                width="767"
            />

            <source
                height="576"
                media="(max-width: 1023px)"
                srcset={getSrcset(image, 1023, 576)}
                width="1023"
            />

            <img
                alt={image.alt}
                height="1080"
                loading="lazy"
                srcset={getSrcset(image, 1920, 1080)}
                title={image.title}
                width="1920"
            />

            <div 
                class="px-container absolute text-sm md:text-base bottom-4 md:bottom-6 lg:text-2xl"
                set:html={caption}
            />
        </picture>
    </div>
</section>
